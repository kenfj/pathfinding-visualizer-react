{"version":3,"sources":["algorithms/NodeType.tsx","algorithms/Dijkstra.tsx","algorithms/Vertex.tsx","hooks/useMouseEventHandlers.tsx","components/Node.tsx","components/PathfindingVisualizer.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["NodeType","Dijkstra","grid","startNode","endNode","openSet","visited","distance","length","current","pop","isVisited","push","updateNeighbors","nodes","sort","nodeA","nodeB","shift","node","neighbors","i","j","filter","neighbor","isWall","getNeighbors","prevNode","includes","Vertex","nodeType","Default","Infinity","this","Start","End","Wall","useMouseEventHandlers","start","end","setGrid","setStart","setEnd","resetGrid","useState","isMousePressed","setIsMousePressed","isDraggingStart","setIsDraggingStart","isDraggingEnd","setIsDraggingEnd","isUpdatingToWall","setIsUpdatingToWall","updateWall","isStartOrEnd","setWall","clearWall","newGrid","slice","handleMouseDown","handleMouseEnter","updateStart","updateEnd","handleMouseUp","useStyles","makeStyles","theme","item","props","border","gridRow","gridCol","backgroundColor","vertex","wall","Node","classes","useEffect","nodeRef","addEventListener","handleTouchStart","passive","e","preventDefault","classWall","className","ref","data-i","data-j","title","onMouseDown","onMouseEnter","onMouseUp","onTouchMove","touch","changedTouches","x","pageX","window","pageXOffset","y","pageY","pageYOffset","elm","document","elementFromPoint","Number","dataset","onTouchEnd","_","container","display","gridTemplateRows","nRows","gridTemplateColumns","nCols","justifyContent","margin","touchAction","shortestPath","buttons","width","PathfindingVisualizer","p","startEnd","Math","trunc","initialRefs","Array","from","createRef","refs","initialGrid","initialNodeType","forEach","row","reset","classList","remove","resetWall","probWall","random","handlers","animate","visitedNodes","setTimeout","add","animateShortestPath","Button","variant","style","textTransform","onClick","path","unshift","backtrackToStart","map","paper","flexGrow","maxWidth","padding","spacing","textAlign","color","fontWeight","App","url","Paper","elevation","href","Typography","gutterBottom","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2622679a.chunk.js","sourcesContent":["export enum NodeType {\n  Default,\n  Start,\n  End,\n  Wall,\n}\n","import { Vertex } from \"./Vertex\";\n\nexport function Dijkstra(grid: Vertex[][], startNode: Vertex, endNode: Vertex) {\n  const openSet = [startNode]\n  const visited: Vertex[] = []\n  startNode.distance = 0\n\n  while (!!openSet.length) {\n    const current = pop(openSet)\n\n    if (current === endNode) return visited\n\n    current.isVisited = true\n    visited.push(current)\n\n    updateNeighbors(current)\n  }\n\n  return visited  // when could not reach to the end node\n\n  // works like a priority queue\n  function pop(nodes: Vertex[]) {\n    nodes.sort((nodeA, nodeB) => nodeA.distance - nodeB.distance)\n    return nodes.shift()!\n  }\n\n  function updateNeighbors(node: Vertex) {\n    const neighbors = getNeighbors(node)\n\n    for (const neighbor of neighbors) {\n      neighbor.distance = node.distance + 1\n      neighbor.prevNode = node\n\n      if (!openSet.includes(neighbor))\n        openSet.push(neighbor)\n    }\n  }\n\n  function getNeighbors(node: Vertex) {\n    const neighbors = []\n    const { i, j } = node\n\n    if (i > 0)\n      neighbors.push(grid[i - 1][j])\n    if (i < grid.length - 1)\n      neighbors.push(grid[i + 1][j])\n    if (j > 0)\n      neighbors.push(grid[i][j - 1])\n    if (j < grid[0].length - 1)\n      neighbors.push(grid[i][j + 1])\n\n    return neighbors.filter(neighbor =>\n      !neighbor.isWall() &&\n      !neighbor.isVisited\n    )\n  }\n}\n\nexport function backtrackToStart(node: Vertex) {\n  const path = [node]\n\n  while (node.prevNode) {\n    path.unshift(node.prevNode)\n    node = node.prevNode!\n  }\n\n  return path\n}\n","import { NodeType } from \"./NodeType\";\n\nexport class Vertex {\n  constructor(\n    readonly i: number,\n    readonly j: number,\n    public nodeType: NodeType = NodeType.Default,\n    public distance: number = Infinity,\n    public prevNode: Vertex | null = null,\n    public isVisited: boolean = false,\n  ) { }\n\n  public reset() {\n    this.distance = Infinity\n    this.prevNode = null\n    this.isVisited = false\n  }\n\n  public isStartOrEnd() {\n    return this.nodeType === NodeType.Start || this.nodeType === NodeType.End\n  }\n\n  public isWall() {\n    return this.nodeType === NodeType.Wall\n  }\n\n  public setWall() {\n    this.nodeType = NodeType.Wall\n  }\n\n  public clearWall() {\n    this.nodeType = NodeType.Default\n  }\n}\n","import { Dispatch, SetStateAction, useState } from \"react\";\nimport { NodeType } from \"../algorithms/NodeType\";\nimport { Vertex } from \"../algorithms/Vertex\";\nimport { Coordinates } from \"../components/Coordinates\";\n\nconst useMouseEventHandlers = (\n  grid: Vertex[][],\n  start: Coordinates,\n  end: Coordinates,\n  setGrid: Dispatch<SetStateAction<Vertex[][]>>,\n  setStart: Dispatch<SetStateAction<Coordinates>>,\n  setEnd: Dispatch<SetStateAction<Coordinates>>,\n  resetGrid: () => void,\n) => {\n  const [isMousePressed, setIsMousePressed] = useState<boolean>(false);\n  const [isDraggingStart, setIsDraggingStart] = useState<boolean>(false);\n  const [isDraggingEnd, setIsDraggingEnd] = useState<boolean>(false);\n  const [isUpdatingToWall, setIsUpdatingToWall] = useState<boolean>(false);\n\n  const updateStart = (i: number, j: number) => {\n    const newGrid = grid.slice()\n\n    newGrid[start.i][start.j] = new Vertex(start.i, start.j)\n    newGrid[i][j] = new Vertex(i, j, NodeType.Start)\n\n    setGrid(newGrid)\n    setStart({ i, j })\n  }\n\n  const updateEnd = (i: number, j: number) => {\n    const newGrid = grid.slice()\n\n    newGrid[end.i][end.j] = new Vertex(end.i, end.j)\n    newGrid[i][j] = new Vertex(i, j, NodeType.End)\n\n    setGrid(newGrid)\n    setEnd({ i, j })\n  }\n\n  const updateWall = (i: number, j: number) => {\n    if (grid[i][j].isStartOrEnd()) return\n\n    if (isUpdatingToWall) {\n      setWall(i, j)\n    } else {\n      clearWall(i, j)\n    }\n  }\n\n  const setWall = (i: number, j: number) => {\n    const newGrid = grid.slice()\n    newGrid[i][j].setWall()\n    setGrid(newGrid)\n  }\n\n  const clearWall = (i: number, j: number) => {\n    const newGrid = grid.slice()\n    newGrid[i][j].clearWall()\n    setGrid(newGrid)\n  }\n\n  const handleMouseDown = (i: number, j: number) => {\n    setIsMousePressed(true)\n    setIsUpdatingToWall(grid[i][j].nodeType !== NodeType.Wall)\n\n    if (grid[i][j].nodeType === NodeType.Start) {\n      setIsDraggingStart(true)\n    } else if (grid[i][j].nodeType === NodeType.End) {\n      setIsDraggingEnd(true)\n    } else {\n      updateWall(i, j)\n    }\n  }\n\n  const handleMouseEnter = (i: number, j: number) => {\n    if (!isMousePressed) return\n\n    if (isDraggingStart) {\n      updateStart(i, j)\n    } else if (isDraggingEnd) {\n      updateEnd(i, j)\n    } else {\n      updateWall(i, j)\n    }\n  }\n\n  const handleMouseUp = (i: number, j: number) => {\n    setIsMousePressed(false)\n    setIsUpdatingToWall(false)\n\n    if (isDraggingStart || isDraggingEnd)\n      resetGrid()\n\n    setIsDraggingStart(false)\n    setIsDraggingEnd(false)\n    setIsUpdatingToWall(grid[i][j].nodeType !== NodeType.Wall)\n  }\n\n  return {\n    handleMouseDown,\n    handleMouseEnter,\n    handleMouseUp,\n  }\n}\n\nexport default useMouseEventHandlers\n","import { makeStyles, Theme } from '@material-ui/core';\nimport React, { RefObject, useEffect } from 'react';\nimport { NodeType } from '../algorithms/NodeType';\nimport { Vertex } from '../algorithms/Vertex';\n\nconst useStyles = makeStyles<Theme, Props>((theme) => ({\n  item: props => ({\n    border: \"1px solid lightgray\",\n    gridRow: `${props.i + 1}`,\n    gridCol: `${props.j + 1}`,\n    backgroundColor: `${props.vertex.nodeType === NodeType.Start ? 'green' : props.vertex.nodeType === NodeType.End ? 'red' : ''}`\n  }),\n  wall: {\n    backgroundColor: 'black'\n  },\n}));\n\ntype Props = {\n  i: number\n  j: number\n  nodeRef: RefObject<HTMLDivElement>\n  vertex: Vertex\n  handleMouseDown: (i: number, j: number) => void\n  handleMouseEnter: (i: number, j: number) => void\n  handleMouseUp: (i: number, j: number) => void\n}\n\nfunction Node(props: Props) {\n  const classes = useStyles(props);\n\n  // How to prevent default handling of touch events?\n  // https://stackoverflow.com/questions/49541173\n  // Replace passive addEventListener to onTouchStart method\n  // https://stackoverflow.com/questions/55903247\n  useEffect(() => {\n    props.nodeRef.current!.addEventListener(\n      \"touchstart\", handleTouchStart, { passive: false }\n    )\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const handleMouseDown = () => {\n    props.handleMouseDown(props.i, props.j)\n  }\n\n  const handleMouseEnter = () => {\n    props.handleMouseEnter(props.i, props.j)\n  }\n\n  const handleMouseUp = () => {\n    props.handleMouseUp(props.i, props.j)\n  }\n\n  const handleTouchStart = (e: TouchEvent) => {\n    e.preventDefault()\n    props.handleMouseDown(props.i, props.j)\n  }\n\n  // onTouchEnter equivalent\n  // convert the last touch point to element\n  // https://egashira.jp/drag-drop-in-touch-device\n  const handleTouchMove = (e: React.TouchEvent) => {\n    const touch = e.changedTouches[0]\n    const x = touch.pageX - window.pageXOffset\n    const y = touch.pageY - window.pageYOffset\n\n    var elm = document.elementFromPoint(x, y) as HTMLElement;\n    const i = Number(elm.dataset.i)\n    const j = Number(elm.dataset.j)\n\n    props.handleMouseEnter(i, j)\n  }\n\n  const handleTouchEnd = (_: React.TouchEvent) => {\n    props.handleMouseUp(props.i, props.j)\n  }\n\n  const classWall = props.vertex.nodeType === NodeType.Wall ? classes.wall : ''\n\n  return (\n    <div\n      className={`${classes.item} ${classWall}`}\n      ref={props.nodeRef}\n      data-i={props.i}\n      data-j={props.j}\n      title={`${props.i}, ${props.j}`}\n      onMouseDown={handleMouseDown}\n      onMouseEnter={handleMouseEnter}\n      onMouseUp={handleMouseUp}\n      // avoid warning Unable to preventDefault inside passive event listener invocation.\n      // onTouchStart={handleTouchStart}\n      onTouchMove={handleTouchMove}\n      onTouchEnd={handleTouchEnd}\n    />\n  )\n}\n\nexport default Node\n","import { Button, makeStyles, Theme } from '@material-ui/core';\nimport React, { createRef, RefObject, useEffect, useState } from 'react';\nimport { backtrackToStart, Dijkstra } from '../algorithms/Dijkstra';\nimport { NodeType } from '../algorithms/NodeType';\nimport { Vertex } from '../algorithms/Vertex';\nimport useMouseEventHandlers from '../hooks/useMouseEventHandlers';\nimport { Coordinates } from './Coordinates';\nimport Node from './Node';\n\nconst useStyles = makeStyles<Theme, Props>((theme) => ({\n  container: props => ({\n    display: 'grid',\n    gridTemplateRows: `repeat(${props.nRows}, 20px)`,\n    gridTemplateColumns: `repeat(${props.nCols}, 20px)`,\n    justifyContent: 'center',\n    margin: '50px auto',\n    // stop scroll in grid from smartphone\n    // equivalent to e.preventDefault() plus addEventListener passive false\n    // https://www.little-cuckoo.jp/entry/2020/06/09/123000\n    touchAction: 'none',\n  }),\n  visited: {\n    backgroundColor: 'lightgreen'\n  },\n  shortestPath: {\n    backgroundColor: 'yellow'\n  },\n  buttons: {\n    display: 'flex',\n    justifyContent: 'center',\n    width: '100%',\n    margin: '10px auto',\n  },\n}));\n\nconst initialStartEnd = (p: Props): Coordinates[] => {\n  return [\n    { i: Math.trunc(p.nRows / 2), j: Math.trunc(p.nCols / 5) },\n    { i: Math.trunc(p.nRows / 2), j: Math.trunc(p.nCols * 4 / 5) - 1 }\n  ]\n}\n\nconst initialNodeType = (i: number, j: number, start: Coordinates, end: Coordinates) => {\n  return (\n    i === start.i && j === start.j ? NodeType.Start :\n      i === end.i && j === end.j ? NodeType.End :\n        NodeType.Default\n  )\n}\n\ntype Props = {\n  nRows: number\n  nCols: number\n}\n\nfunction PathfindingVisualizer(props: Props) {\n  const classes = useStyles(props);\n\n  const startEnd = initialStartEnd(props)\n  const [start, setStart] = useState<Coordinates>(startEnd[0]);\n  const [end, setEnd] = useState<Coordinates>(startEnd[1]);\n\n  const initialRefs =\n    Array.from({ length: props.nRows }, _ =>\n      Array.from({ length: props.nCols }, _ =>\n        createRef<HTMLDivElement>()\n      )\n    )\n  const [refs] = useState<RefObject<HTMLDivElement>[][]>(initialRefs);\n\n  const initialGrid =\n    Array.from({ length: props.nRows }, (_, i) =>\n      Array.from({ length: props.nCols }, (_, j) => {\n        const nodeType = initialNodeType(i, j, start, end)\n        return new Vertex(i, j, nodeType)\n      })\n    )\n  const [grid, setGrid] = useState<Vertex[][]>(initialGrid);\n\n  const resetGrid = () => {\n    refs.forEach((row, i) =>\n      row.forEach((ref, j) => {\n        grid[i][j].reset()\n        ref.current?.classList.remove(classes.visited, classes.shortestPath)\n      })\n    )\n  }\n\n  const resetWall = (probWall: number) => {\n    refs.forEach((row, i) =>\n      row.forEach((ref, j) => {\n        if (grid[i][j].isStartOrEnd()) return\n\n        if (Math.random() < probWall) {\n          grid[i][j].setWall()\n        } else {\n          grid[i][j].clearWall()\n        }\n      })\n    )\n\n    resetGrid()\n    setStart({ i: start.i, j: start.j }) // force re-render\n  }\n\n  useEffect(() => {\n    resetWall(0.35)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const handlers = useMouseEventHandlers(grid, start, end, setGrid, setStart, setEnd, resetGrid)\n\n  const visualize = () => {\n    resetGrid()\n\n    const startNode = grid[start.i][start.j]\n    const endNode = grid[end.i][end.j]\n    const visitedNodes = Dijkstra(grid, startNode, endNode);\n    const shortestPath = backtrackToStart(endNode);\n\n    animate(visitedNodes, shortestPath);\n  }\n\n  const animate = (visitedNodes: Vertex[], shortestPath: Vertex[]) => {\n    for (let i = 1; i < visitedNodes.length - 1; i++) {\n      setTimeout(() => {\n        const node = visitedNodes[i];\n        const ref = refs[node.i][node.j].current!\n        ref.classList.add(classes.visited)\n      }, 10 * i);\n\n      if (i === visitedNodes.length - 2) {\n        setTimeout(() => {\n          animateShortestPath(shortestPath);\n        }, 10 * i);\n        return;\n      }\n    }\n  }\n\n  const animateShortestPath = (shortestPath: Vertex[]) => {\n    for (let i = 1; i < shortestPath.length - 1; i++) {\n      setTimeout(() => {\n        const node = shortestPath[i];\n        const ref = refs[node.i][node.j].current!\n        ref.classList.add(classes.shortestPath)\n      }, 50 * i);\n    }\n  }\n\n  return (\n    <>\n      <div className={classes.buttons}>\n        <Button variant=\"contained\" style={{ textTransform: 'none' }} onClick={() => resetWall(0.35)}>\n          Random Wall\n        </Button>\n        <Button variant=\"contained\" style={{ textTransform: 'none' }} onClick={() => resetWall(0)}>\n          Clear Wall\n        </Button>\n      </div>\n      <Button variant=\"contained\" style={{ textTransform: 'none' }} onClick={visualize}>\n        Visualize Dijkstra's Algorithm\n      </Button>\n      <div className={classes.container}>\n        {\n          refs.map((row, i) =>\n            row.map((node, j) =>\n              <Node\n                i={i} j={j}\n                key={`node-${i}-${j}`}\n                nodeRef={node}\n                vertex={grid[i][j]}\n                handleMouseDown={handlers.handleMouseDown}\n                handleMouseEnter={handlers.handleMouseEnter}\n                handleMouseUp={handlers.handleMouseUp}\n              />\n            )\n          )\n        }\n      </div>\n    </>\n  )\n}\n\nexport default PathfindingVisualizer\n","import { makeStyles, Paper, Typography } from '@material-ui/core';\nimport React from 'react';\nimport GithubCorner from 'react-github-corner';\nimport PathfindingVisualizer from './components/PathfindingVisualizer';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    flexGrow: 1,\n    maxWidth: 700,\n    margin: \"50px auto\",\n    padding: theme.spacing(5),\n    textAlign: 'center',\n  },\n  start: {\n    color: 'green',\n    fontWeight: 'bold',\n  },\n  end: {\n    color: 'red',\n    fontWeight: 'bold',\n  },\n  wall: {\n    color: 'black',\n    fontWeight: 'bold',\n  },\n}));\n\nfunction App() {\n  const classes = useStyles();\n  const url = 'https://github.com/kenfj/pathfinding-visualizer-react'\n\n  return (\n    <Paper elevation={5} className={classes.paper}>\n      <GithubCorner href={url} />\n      <h1>Pathfinding Visualizer</h1>\n      <Typography variant=\"body1\" gutterBottom>\n        Click to create <span className={classes.wall}>WALL</span><br />\n        Drag <span className={classes.start}>START</span> and <span className={classes.end}>END</span>\n      </Typography>\n      <PathfindingVisualizer nRows={20} nCols={30} />\n      <Typography variant=\"caption\" display=\"block\" gutterBottom>\n        source code: <a href={url}>{url}</a>\n      </Typography>\n    </Paper >\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}